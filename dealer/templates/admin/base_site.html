{% extends "admin/base.html" %}
{% load static i18n %}

{% block title %}Khplwak Property — Admin{% endblock %}

{% block extrastyle %}
<style>
:root{
  --kp-header:#004C45; --kp-primary:#04796B;
  --kp-text:#ECFEF7; --kp-white:#fff;
}
.theme-toggle { display:none !important; }
#header{ background:linear-gradient(90deg,var(--kp-header),var(--kp-primary)); min-height:62px; border-bottom:none; }
#branding .kp-brand{ display:flex; align-items:center; gap:10px; }
#branding .kp-logo{ height:38px; width:auto; border-radius:6px; }
#branding .kp-title{ color:var(--kp-white); font-weight:800; letter-spacing:.2px; font-size:1.06rem; }

#user-tools{ display:flex; align-items:center; gap:18px; font-size:14px; font-weight:700; color:var(--kp-text); }
#user-tools a, #user-tools button.kp-link{
  color:var(--kp-white); text-decoration:none; display:inline-flex; align-items:center; gap:8px;
  padding:6px 8px; border-radius:8px; background:transparent; border:0; cursor:pointer;
  transition:background .2s ease;
}
#user-tools a:hover, #user-tools button.kp-link:hover{ background:rgba(255,255,255,.12); }
.kp-ic{ width:19px; height:19px; display:inline-block; }
div.breadcrumbs{ display:none; } /* optional */
</style>
{% endblock %}

{% block branding %}
  <div class="kp-brand">
    <img src="{% static 'image/logo.png' %}" alt="Khplwak Property" class="kp-logo">
    <div class="kp-title">Khplwak Property — Admin</div>
  </div>
{% endblock %}

{% block usertools %}
{% if has_permission %}
  <div id="user-tools">
    <span>{% trans 'Welcome,' %} {{ user.get_short_name|default:user.get_username }}</span>

    <a href="{% url 'admin:index' %}">
      <svg class="kp-ic" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M4 10.5 12 4l8 6.5V20a1 1 0 0 1-1 1h-5v-6H10v6H5a1 1 0 0 1-1-1v-9.5Z"
              stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"/>
      </svg>{% trans 'Dashboard' %}
    </a>

    <a href="{{ site_url|default:'/' }}" target="_blank" rel="noopener">
      <svg class="kp-ic" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M14 5h5v5M10 14l9-9M20 14v5a1 1 0 0 1-1 1h-5M4 10V5a1 1 0 0 1 1-1h5"
              stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>{% trans 'View site' %}
    </a>

    <a href="{% url 'admin:password_change' %}">
      <svg class="kp-ic" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M10.5 13.5a4.5 4.5 0 1 1 0-9 4.5 4.5 0 0 1 0 9Zm0 0l3 3h3v3h3"
              stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>{% trans 'Change password' %}
    </a>

    <!-- Logout must be POST -->
    <form method="post" action="{% url 'admin:logout' %}" style="display:inline;">
      {% csrf_token %}
      <button type="submit" class="kp-link">
        <svg class="kp-ic" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M15 17l5-5-5-5M20 12H9M11 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5"
                stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>{% trans 'Log out' %}
      </button>
    </form>
  </div>
{% endif %}
{% endblock %}
